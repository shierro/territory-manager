(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1c7cd3a7b4faf9707aad":function(e){e.exports={apiHost:"https://52791820.ngrok.io"}},"1e8b66a715a28bcd56f8":function(e,n,t){"use strict";t.r(n);var r=t("8af190b70a6bc55c6f1b"),a=t.n(r),o=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),i=t("0d7f0986bcd2f33d8a2a"),c=t("6938d226fd372a75cbf9"),s=t("a28fc3c963a1d4d1a2e5"),u=t("ab4cb61bcb2dc161defb"),d=t("b02fe3f80d4238b52f20"),f=t.n(d),l=t("c7fd554010f79f6c0ef8"),p=t.n(l),b=t("2aea235afd5c55b8b19b"),h=t.n(b),g=t("b27e083e7741c2dccb3f"),m=t.n(g),v=t("d1481ba7d88efe885afa"),y=t.n(v),w=t("adc20f99e57c573c589c"),k=t("d95b0cf107403b178365"),O=function(e){return e.get("loginPage")},j=t("6542cd13fd5dd1bcffd4"),x=t("0eb14ef7a7fd07df1a3f");function P(e){return{type:x.b,error:e}}var S=t("719aaad29f0bd291536b"),C=t("6c68d13fe9e3e77d8fc4"),_=(t("bd183afcc37eabd79225"),t("a7e3807798c0b990af09")),E=t("a72b40110d9c31c9b5c5");t("1c7cd3a7b4faf9707aad"),t("7982d032bd4e3c666ae2"),t("7e009a1d80e5927cf4a7");var T=regeneratorRuntime.mark(L),H=regeneratorRuntime.mark(R);function L(e){var n,t=e.username,r=e.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.b)(P(""));case 3:if("admin"!==t||"admin"!==r){e.next=9;break}return e.next=6,Object(C.b)(Object(E.e)("testToken"));case 6:return e.next=8,Object(C.b)(Object(_.push)("/people/map"));case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,Object(C.b)(P("Invalid credentials"));case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.message:"Something went wrong. Try again later",e.next=19,Object(C.b)(P(n));case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},T,this,[[0,14]])}function R(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.c)(x.a,L);case 2:case"end":return e.stop()}},H,this)}t.d(n,"LoginPage",function(){return N});var F,D=(F="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,n,t,r){var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var i in a)void 0===n[i]&&(n[i]=a[i]);else n||(n=a||{});if(1===o)n.children=r;else if(o>1){for(var c=Array(o),s=0;s<o;s++)c[s]=arguments[s+3];n.children=c}return{$$typeof:F,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}),I=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),N=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={username:"",password:""},t.handleChange=t.handleChange.bind(t),t.handleSubmit=t.handleSubmit.bind(t),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.Component),I(n,[{key:"componentDidMount",value:function(){this.props.token&&this.props.history.push("/people/map")}},{key:"handleChange",value:function(e,n){this.setState(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.login(this.state.username,this.state.password)}},{key:"renderHeader",value:function(){return D(i.Helmet,{},void 0,D("title",{},void 0,"LoginPage"),D("meta",{name:"description",content:"Description of LoginPage"}))}},{key:"renderInputFields",value:function(e,n){var t=this;return D("div",{},void 0,D(p.a,{label:"Username",helperText:"Enter your username",margin:"normal",fullWidth:!0,value:e,onChange:function(e){return t.handleChange("username",e.target.value)}}),D(p.a,{label:"Password",helperText:"Enter your password",margin:"normal",fullWidth:!0,type:"password",value:n,onChange:function(e){return t.handleChange("password",e.target.value)}}))}},{key:"renderErrorBlock",value:function(e){return D("h4",{style:{display:e?"block":"none"},className:this.props.classes.error},void 0,e)}},{key:"renderFooter",value:function(e){return D("div",{className:this.props.classes.footer},void 0,D(h.a,{type:"submit",variant:"raised",color:"primary",disabled:e},void 0,"Login"))}},{key:"render",value:function(){var e=this.state,n=e.username,t=e.password,r=this.props,a=r.error,o=r.loading,i=r.classes;return D(f.a,{elevation:4,className:i.container},void 0,this.renderHeader(),D("form",{onSubmit:this.handleSubmit},void 0,D("h3",{},void 0,"Login"),D(m.a,{}),this.renderInputFields(n,t),this.renderErrorBlock(a),D(y.a,{style:{display:o?"block":"none"}}),this.renderFooter(o)))}}]),n}(),W=Object(s.b)({error:Object(s.a)(O,function(e){return e.get("error")}),loading:Object(s.a)(O,function(e){return e.get("loading")}),token:Object(j.f)()}),B=Object(o.connect)(W,function(e){return{login:function(n,t){return e(function(e,n){return{type:x.a,username:e,password:n}}(n,t))}}}),J=Object(k.a)({key:"loginPage",reducer:S.a}),$=Object(w.a)({key:"loginPage",saga:R});n.default=Object(u.compose)(J,$,B)(Object(c.withStyles)(function(e){return{container:{margin:"0 auto",marginTop:40,maxWidth:550,padding:20},error:{backgroundColor:e.palette.error.main,padding:"10px 15px"},footer:{padding:"20px 0"}}})(N))},"7982d032bd4e3c666ae2":function(e){e.exports={apiHost:"https://52791820.ngrok.io"}},"7e009a1d80e5927cf4a7":function(e){e.exports={apiHost:"https://52791820.ngrok.io"}}}]);